<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Revnet Simulator</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="inputs">
      <section>
        <h2>Revnet Parameters</h2>
        <label for="priceCeilingIncreaseFrequencyInDays"
          >Price Ceiling Increase Frequency In Days</label
        >
        <input
          type="number"
          id="priceCeilingIncreaseFrequencyInDays"
          value="1"
        />
        <label for="priceCeilingIncreasePercentage"
          >Price Ceiling Increase Percentage</label
        >
        <input
          type="range"
          id="priceCeilingIncreasePercentage"
          value="0.02"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">2%</span>
          <span class="max-value">100%</span>
        </div>
        <label for="priceFloorTaxIntensity">Price Floor Tax Intensity</label>
        <input
          type="range"
          id="priceFloorTaxIntensity"
          value="0.33"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">33%</span>
          <span class="max-value">100%</span>
        </div>
        <label for="boostPercent">Boost Percent</label>
        <input
          type="range"
          id="boostPercent"
          value="0.1"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">10%</span>
          <span class="max-value">100%</span>
        </div>
        <label for="boostDurationInDays">Boost Duration In Days</label>
        <input type="number" id="boostDurationInDays" value="30" />
        <label for="premintAmount">Premint Amount</label>
        <input type="number" id="premintAmount" value="5" />
      </section>
      <section>
        <h2>Liquidity Pool Parameters</h2>
        <label for="eth">Initial ETH</label>
        <input type="number" id="eth" value="10" />
        <label for="revnetToken">Initial Revnet Token</label>
        <input type="number" id="revnetToken" value="0" />
        <label for="revnetTokenLiquidityRatio"
          >Revnet Token Liquidity Ratio</label
        >
        <input
          type="range"
          id="revnetTokenLiquidityRatio"
          value="0.1"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">10%</span>
          <span class="max-value">100%</span>
        </div>
        <label for="ethLiquidityRatio">ETH Liquidity Ratio</label>
        <input
          type="range"
          id="ethLiquidityRatio"
          value="0.1"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">10%</span>
          <span class="max-value">100%</span>
        </div>
        <button id="simulate">Simulate</button>
      </section>
      <section>
        <h2>Simulation Metaparameters</h2>
        <label for="daysToCalculate">Days To Calculate</label>
        <input type="number" id="daysToCalculate" value="100" />
        <label for="dailyPurchasesLambda">Daily Purchases Lambda</label>
        <input type="number" id="dailyPurchasesLambda" value="5" />
        <label for="purchaseAmountMean">Purchase Amount Mean</label>
        <input type="number" id="purchaseAmountMean" value="0" />
        <label for="purchaseAmountVariance">Purchase Amount Variance</label>
        <input type="number" id="purchaseAmountVariance" value="1.5" />
        <label for="saleProbability">Sale Probability</label>
        <input
          type="range"
          id="saleProbability"
          value="0.01"
          step="0.01"
          min="0"
          max="1"
          oninput="updateSliderPercent(this)"
        />
        <div class="slider-values">
          <span class="min-value">0%</span>
          <span class="current-value">1%</span>
          <span class="max-value">100%</span>
        </div>
      </section>
    </div>
    <div id="dashboard"></div>
    <script>
      function updateSliderPercent(slider) {
        const currentValueSpan =
          slider.nextElementSibling.querySelector(".current-value");
        currentValueSpan.textContent = `${Math.floor(slider.value * 100)}%`;
      }

      document
        .querySelector("#simulate")
        .addEventListener("click", function () {
          this.classList.add("dance");
          setTimeout(() => this.classList.remove("dance"), 500);
        });
    </script>
    <script type="module" src="/main.js"></script>
  </body>
</html>
